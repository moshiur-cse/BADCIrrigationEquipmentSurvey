@using BADCIrrigationEquipmentSurvey.Models.DataModels
@model IEnumerable<SurveyInfo>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";


    //ViewBag.Title = "Index";

    var rc = 0;
    var equipmentId = ViewBag.EquipmentId;
    //var equipmentId = ViewData["EquipmentId"];
}


@section styles {

    <link href="~/css/datetimepicker.css" rel="stylesheet" />
    <link href="~/css/fixedtablestyle.css" rel="stylesheet" />

    <style>
        .form-view {
            border: 0 none;
            margin: 0;
            padding: 0 15px;
            color: #135;
        }

        .data-view {
            border: 1px solid #ccc;
            margin: 0 -15px;
            padding: 8px;
            background: rgba(200, 240, 245, 0.03);
            background-color: #fcfeff;
            overflow: auto;
        }

        .table {
            border: 1px solid #ddd;
            margin: 0 auto;
        }

            .table td, .table > tbody > td,
            .table th, .table > thead > th,
            .table > tr:nth-child(even) > td,
            .table > tbody > tr:nth-child(even) > td,
            .table > tr:nth-child(odd) > td,
            .table > tbody > tr:nth-child(odd) > td {
                border: 1px solid #ddd !important;
                padding: 5px;
                text-align: left;
                color: #235;
                font: 500 13px/1.42857 "Helvetica Neue", Helvetica, Arial, sans-serif;
                background: #fff;
                /*font-family: Cambria, "Helvetica Neue", Helvetica, Arial, sans-serif;*/
            }

            .table th, .table > thead > th,
            .table > thead > tr > th {
                padding: 5px;
                text-align: center !important;
                vertical-align: middle !important;
                color: #125;
                font: 500 14px/1.42857 Cambria, "Helvetica Neue", Helvetica, Arial, sans-serif;
                background-color: #f0f7f8;
            }

            .table > tr.sub-header-tr > th,
            .table > thead > tr.sub-header-tr > th {
                padding: 2px !important;
            }

                .table th i,
                .table > tr.sub-header-tr > th > i,
                .table > thead > th > i,
                .table > thead > tr > th > i {
                    display: block;
                    min-width: 50px;
                    color: #247;
                    font: italic 500 12px/1.42857 Cambria, "Helvetica Neue", Helvetica, Arial, sans-serif;
                }

            .table > tbody > tr:nth-child(even) > td {
                padding: 5px;
                background: #fafdfe !important;
            }

            .table td.text-left,
            .table > tr > td.text-left,
            .table > tbody > tr > td.text-left {
                text-align: left;
            }

            .table td.text-center,
            .table > tr > td.text-center,
            .table > tbody > tr > td.text-center {
                text-align: center;
            }

            .table td.text-right,
            .table > tr > td.text-right,
            .table > tbody > tr > td.text-right {
                text-align: right;
            }

        .row {
            border-color: #ccc;
            border-style: solid;
            border-width: 1px 1px 0;
            margin: 0 -15px;
            padding: 0;
            background-color: #fcfeff;
        }

            .row > [class*="col-"] {
                border: 0 none;
                margin: 0;
                padding: 5px 12px;
            }

                .row > [class*="col-"] > [class*="title-"],
                .row > [class*="col-"] > label,
                .row > [class*="col-"] > .control-label {
                    margin: 6px;
                    padding: 0;
                    color: #137;
                    font: 600 14px/1.42857 Cambria, "Helvetica Neue", Helvetica, Arial, sans-serif;
                }

            .row > .col-auto {
                width: auto;
                max-width: 100%;
                padding: 5px 12px;
            }

        .btn-action {
            min-width: 80px;
            text-align: center !important;
            vertical-align: middle !important;
        }

            .btn-action span.glyphicon {
                margin: 4px;
                font-size: 23px;
                color: #158;
            }

                .btn-action span.glyphicon:hover {
                    color: #28d;
                }

            .btn-action span.glyphicon-remove:hover {
                color: #f53713 !important;
            }


        .data-title {
            margin: 20px 0 5px 0;
            color: #035;
            font: 500 18pt/1.42857 Roboto, Tahoma, Geneva, Verdana, sans-serif;
            text-align: left;
        }

        .data-sub-title {
            margin: 5px 0;
            color: #058;
            font: 500 14pt/1.42857 Roboto, Tahoma, Geneva, Verdana, sans-serif;
            text-align: left;
        }
    </style>

}

<div style="margin: 0 auto; padding: 0;">

    <div style="border-bottom: 2px solid #135; margin: 5px auto; text-align:center;">
        @*<strong class="data-title">Irrigation Equipment Survey of @ViewBag.Title</strong>*@
        <strong class="data-title">@ViewBag.Title Survey Information</strong>
        <br />
        <strong class="data-sub-title">(Rabi, Kharip-1 & Kharip-2 Season)</strong>
    </div>

    <div class="form-view">
        <div id="multi-form-wrapper" class="data-view multi-form-wrapper">
            <table id="multi-form-view" class="table table-responsive multi-form-view">
                <thead>
                    <tr>
                        <th rowspan="3">Sl No.</th>

                        <th rowspan="2" colspan="7">Name & Location of Scheme</th>

                        <th rowspan="2" colspan="2">Owner/Manager</th>

                        <th rowspan="3">Name of Agency</th>

                        <th rowspan="2" colspan="2">Diesel Engine</th>

                        <th rowspan="2" colspan="3">Electric Motor</th>

                        <th rowspan="3">Pump Capacity (Cusec)</th>


                        @switch (equipmentId)
                        {
                            case 1:
                                <th rowspan="3">Source of Surface Water</th>
                                break;

                            case 2:
                                <th rowspan="3">Smart Card</th>
                                break;

                            case 3:
                                <th rowspan="3">Pit/Non-Pit</th>
                                break;

                            default:
                                <th rowspan="3"></th>
                                break;
                        }


                        <th rowspan="3">Serviceable</th>
                        <th rowspan="3">Total Operating Hour (hr)</th>

                        <th colspan="13">Rabi Season</th>

                        <th rowspan="2" colspan="4">Irrigation Canal Length (m)</th>

                        @*<th rowspan="3">Benefited Farmer</th>
                            <th rowspan="3">Benefited Agriculture Labour</th>*@

                        <th rowspan="2" colspan="3">Benefited Farmer</th>

                        <th rowspan="2" colspan="3">Benefited Agriculture Labour</th>

                        <th rowspan="3">will it use in Kharif -1 Season</th>

                        <th rowspan="3">Survey Date</th>

                        <th rowspan="3">Action</th>

                    </tr>
                    <tr>
                        <th colspan="7">Irrigated Area (Acres)</th>
                        <th colspan="6">Irrigation Cost (Tk/Acre)</th>
                    </tr>

                    <tr>
                        <th>Name of Scheme</th>

                        <th>District</th>
                        <th>Upazila</th>
                        <th>Union</th>
                        <th>Mauza</th>
                        <th>J/L No.</th>
                        <th>Plot No.</th>

                        <th>Name</th>
                        <th>Mobile No.</th>

                        <th>Make & Model</th>
                        <th>HP</th>

                        <th>Make & Model</th>
                        <th>KW</th>
                        <th>Source of Power</th>

                        <th>Boro</th>
                        <th>Wheat</th>
                        <th>Potato</th>
                        <th>Maize</th>
                        <th>Veg (W)</th>
                        <th>Mustard</th>
                        <th>Others</th>

                        <th>Boro</th>
                        <th>Wheat</th>
                        <th>Potato</th>
                        <th>Maize</th>
                        <th>Veg (W)</th>
                        <th>Others</th>

                        <th>Pacca</th>
                        <th>Buried Pipe</th>
                        <th>Fita Pipe</th>
                        <th>Kacha</th>


                        <th>Male</th>
                        <th>Female</th>
                        <th>Total</th>

                        <th>Male</th>
                        <th>Female</th>
                        <th>Total</th>

                    </tr>
                    <tr class="sub-header-tr">
                        <th><i>1</i></th>
                        <th><i>2</i></th>
                        <th><i>3</i></th>
                        <th><i>4</i></th>
                        <th><i>5</i></th>
                        <th><i>6</i></th>
                        <th><i>7</i></th>
                        <th><i>8</i></th>
                        <th><i>9</i></th>
                        <th><i>10</i></th>
                        <th><i>11</i></th>
                        <th><i>12</i></th>
                        <th><i>13</i></th>
                        <th><i>14</i></th>
                        <th><i>15</i></th>
                        <th><i>16</i></th>
                        <th><i>17</i></th>
                        <th><i>18</i></th>
                        <th><i>19</i></th>
                        <th><i>20</i></th>
                        <th><i>21</i></th>
                        <th><i>22</i></th>
                        <th><i>23</i></th>
                        <th><i>24</i></th>
                        <th><i>25</i></th>
                        <th><i>26</i></th>
                        <th><i>27</i></th>
                        <th><i>28</i></th>
                        <th><i>29</i></th>
                        <th><i>30</i></th>
                        <th><i>31</i></th>
                        <th><i>32</i></th>
                        <th><i>33</i></th>
                        <th><i>34</i></th>
                        <th><i>35</i></th>
                        <th><i>36</i></th>
                        <th><i>37</i></th>
                        <th><i>38</i></th>
                        <th><i>39</i></th>
                        <th><i>40</i></th>
                        <th><i>41</i></th>
                        <th><i>42</i></th>
                        <th><i>43</i></th>
                        <th><i>44</i></th>
                        <th><i>45</i></th>
                        <th><i>46</i></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td style="padding-right: 6px; text-align: right; font-weight: 500;">@(++rc).</td>

                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.NameOfScheme)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.DistrictInfo.DistName)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.UpazilaInfo.UpazName)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.UnionInfo.UnionName)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.MauzaName)
                            </td>
                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.JlNo)
                            </td>
                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.PlotNo)
                            </td>

                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.OwnerOrManagerName)
                            </td>
                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.OwnerOrManagerMobileNo)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.AgencyInfo.NameOfAgency)
                            </td>

                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.DieselEngineMakeAndModel)
                            </td>
                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.DieselEngineHp)
                            </td>

                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.ElectricMotorMakeAndModel)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.ElectricMotorKw)
                            </td>
                            <td class="text-left">
                                @Html.DisplayFor(modelItem => item.ElectricMotorPowerSourceInfo.ElectricMotorSourceOfPower)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.PumpCapacityInCusec)
                            </td>


                            @switch (equipmentId)
                            {
                                case 1:
                                    <td class="text-left">
                                        @Html.DisplayFor(modelItem => item.SurfaceWaterSourceInfo.SourceOfSurfaceWater)
                                    </td>
                                    break;

                                case 2:
                                    <td class="text-left">
                                        @Html.DisplayFor(modelItem => item.SmartCard)
                                    </td>
                                    break;

                                case 3:
                                    bool isPit = (item.IsPit != null) && (item.IsPit != false);
                                    <td class="text-center">
                                        @Html.DisplayFor(modelItem => isPit)
                                    </td>
                                    break;

                                default:
                                    <td></td>
                                    break;
                            }


                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.IsServiceable)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.TotalOperatingHour)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BoroArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.WheatArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.PotatoArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.MaizeArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.VegWinterArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.MustardArea)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.OthersArea)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BoroCost)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.WheatCost)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.PotatoCost)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.MaizeCost)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.VegWinterCost)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.OthersCost)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.CanalLengthPacca)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.CanalLengthBuriedPipe)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.CanalLengthFitaPipe)
                            </td>
                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.CanalLengthKacha)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BenefitedFarmerMale)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BenefitedFarmerFemale)
                            </td>

                            <td class="text-right">
                                @((item.BenefitedFarmerMale ?? 0) + (item.BenefitedFarmerFemale ?? 0))
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BenefitedAgricultureLabourMale)
                            </td>

                            <td class="text-right">
                                @Html.DisplayFor(modelItem => item.BenefitedAgricultureLabourFemale)
                            </td>

                            <td class="text-right">
                                @((item.BenefitedAgricultureLabourMale ?? 0) + (item.BenefitedAgricultureLabourFemale ?? 0))
                            </td>

                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.UseInKharif1Season)
                            </td>

                            <td class="text-center">
                                @Html.DisplayFor(modelItem => item.SurveyDate)
                            </td>

                            <td>
                                <a asp-action="Edit" asp-route-id="@item.SurveyId">Edit</a> |
                                <a asp-action="Details" asp-route-id="@item.SurveyId">Details</a> |
                                <a asp-action="Delete" asp-route-id="@item.SurveyId">Delete</a>
                            </td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>

</div>


@section Scripts {

    <partial name="_ValidationScriptsPartial" />

    <script type="text/javascript" src="~/js/fixedtable.js"></script>

    <script type="text/javascript">

        var errMsg = "@ViewBag.Error".trim();
        if (errMsg !== "" && errMsg.length > 0) {
            window.msg.init("error", "Error... . . !", errMsg);
        }


        $(function () {

            $("#multi-form-view").fixedHeaderTable({
                altClass: "even",
                footer: false,
                cloneHeadToFoot: false,
                autoShow: true,
                fixedColumns: 0,
                autoResize: true
            });

        });

    </script>

}
